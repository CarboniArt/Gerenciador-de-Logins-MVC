<!DOCTYPE html>
<html>
<head>
    <title>Editar Conta - Gerenciador Ubisoft</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <div class="container form-container">
        <div style="display: flex; justify-content: space-between; align-items: center;">
            <h1>Editar Conta</h1>
            <button class="theme-toggle" id="themeToggle">üåì</button>
        </div>
        
        <a href="{{ url_for('conta_bp.index') }}" class="btn btn-secondary">‚Üê Voltar</a>
        
        <form method="POST" style="margin-top: 30px;">
            <div class="form-group">
                <label for="email" class="required">Email:</label>
                <input type="email" id="email" name="email" value="{{ conta['email'] }}" required>
            </div>
            
            <div class="form-group">
                <label for="senha_ubisoft" class="required">Senha Ubisoft:</label>
                <input type="password" id="senha_ubisoft" name="senha_ubisoft" value="{{ conta['senha_ubisoft'] }}" required>
            </div>
            
            <div class="form-group">
                <label for="senha_email" class="required">Senha do Email:</label>
                <input type="password" id="senha_email" name="senha_email" value="{{ conta['senha_email'] }}" required>
            </div>
            
            <div class="form-group">
                <label for="provedor">Provedor (URL):</label>
                <input type="url" id="provedor" name="provedor" value="{{ conta['provedor'] or '' }}" placeholder="https://...">
            </div>
            
            <div class="form-group">
                <label for="jogos">Jogos:</label>
                <textarea 
                    id="jogos" 
                    name="jogos" 
                    rows="6"
                >{{ conta['jogos'] or '' }}</textarea>
                <div class="dica">Um jogo por linha</div>
            </div>
            
            <div class="form-group">
                <label for="observacoes">Observa√ß√µes:</label>
                <textarea id="observacoes" name="observacoes">{{ conta['observacoes'] or '' }}</textarea>
            </div>
            
            <div class="actions">
                <button type="submit" class="btn btn-primary">Atualizar</button>
                <a href="{{ url_for('conta_bp.index') }}" class="btn btn-secondary">Cancelar</a>
            </div>
        </form>
    </div>

    <script>
        const themeToggle = document.getElementById('themeToggle');
        const prefersDarkScheme = window.matchMedia('(prefers-color-scheme: dark)');
        const currentTheme = localStorage.getItem('theme') || (prefersDarkScheme.matches ? 'dark' : 'light');
        if (currentTheme === 'dark') {
            document.body.setAttribute('data-theme', 'dark');
            themeToggle.textContent = 'üåû';
        } else {
            document.body.removeAttribute('data-theme');
            themeToggle.textContent = 'üåô';
        }
        themeToggle.addEventListener('click', () => {
            if (document.body.getAttribute('data-theme') === 'dark') {
                document.body.removeAttribute('data-theme');
                localStorage.setItem('theme', 'light');
                themeToggle.textContent = 'üåô';
            } else {
                document.body.setAttribute('data-theme', 'dark');
                localStorage.setItem('theme', 'dark');
                themeToggle.textContent = 'üåû';
            }
        });
    </script>
</body>
</html>